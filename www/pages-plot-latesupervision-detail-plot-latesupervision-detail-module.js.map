{"version":3,"sources":["webpack:///./src/app/pages/plot-latesupervision-detail/plot-latesupervision-detail.module.ts","webpack:///./src/app/pages/plot-latesupervision-detail/plot-latesupervision-detail.page.html","webpack:///./src/app/pages/plot-latesupervision-detail/plot-latesupervision-detail.page.scss","webpack:///./src/app/pages/plot-latesupervision-detail/plot-latesupervision-detail.page.ts"],"names":[],"mappings":"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","file":"pages-plot-latesupervision-detail-plot-latesupervision-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlotLatesupervisionDetailPage } from './plot-latesupervision-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlotLatesupervisionDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PlotLatesupervisionDetailPage]\n})\nexport class PlotLatesupervisionDetailPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar [ngClass]=\\\"{'blue': skinName==='blue','green': skinName==='green','orange': skinName==='orange'}\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"ios-arrow-back\\\" mode='ios'></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>后期监管记录</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- 下拉刷新组件 -->\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"ios-arrow-down\\\" refreshingSpinner=\\\"lines\\\" mode='ios'>\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <!-- 年份选择 -->\\n  <ion-list mode=\\\"ios\\\"  *ngIf=\\\"dataFlag\\\">\\n    <ion-item>\\n      <ion-label>选择监管年份：</ion-label>\\n      <ion-datetime [min]=\\\"minYear\\\" [max]=\\\"maxYear\\\" [value]=\\\"maxYear\\\" (ionChange)=\\\"ionChange($event)\\\" display-format=\\\"YYYY\\\" done-text=\\\"确认\\\"\\n        cancel-text=\\\"取消\\\">\\n      </ion-datetime>\\n    </ion-item>\\n  </ion-list>\\n\\n  <!-- 信息表格 -->\\n  <ion-grid class=\\\"detail_table\\\" *ngIf=\\\"dataFlag\\\">\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">申报时间：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.APPLY_DATE===null?\\\"- -\\\":laterMonitorDetail.MONITOR_DATE| date:'yyyy-MM-dd'}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">监测时间：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.MONITOR_DATE===null?\\\"- -\\\":laterMonitorDetail.MONITOR_DATE| date:'yyyy-MM-dd'}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">监测状态：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.STATUS||\\\"- -\\\"}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">土壤环境监测结论：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.SOIL_ENVIRON_VERDICT||\\\"- -\\\"}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">地下水环境监测结论：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.GROUNDWATER_VERDICT||\\\"- -\\\"}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">地表水环境监测结论：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.SURFACE_WATER_VERDICT||\\\"- -\\\"}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">空气环境监测结论：</ion-col>\\n      <ion-col class=\\\"right-text\\\">{{laterMonitorDetail.AIR_ENVIRON_VERDICT||\\\"- -\\\"}}</ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">监测方案附件：</ion-col>\\n      <ion-col class=\\\"right-text\\\">\\n        <ion-list *ngIf=\\\"censusFileArr.length>0\\\">\\n          <ion-item *ngFor=\\\"let item of censusFileArr\\\" lines=\\\"none\\\">\\n            <p class=\\\"down-line\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"downFile(item)\\\"> {{item.FILENAME}}</p>\\n          </ion-item>\\n        </ion-list>\\n        <p class=\\\"nofile\\\" *ngIf=\\\"censusFileArr.length==0\\\">暂无附件</p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">监测结果附件：</ion-col>\\n      <ion-col class=\\\"right-text\\\">\\n        <ion-list *ngIf=\\\"surveyFileArr.length>0\\\">\\n          <ion-item *ngFor=\\\"let item of surveyFileArr\\\" lines=\\\"none\\\">\\n            <p class=\\\"down-line\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"downFile(item)\\\"> {{item.FILENAME}}</p>\\n          </ion-item>\\n        </ion-list>\\n        <p class=\\\"nofile\\\" *ngIf=\\\"surveyFileArr.length==0\\\">暂无附件</p>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row justify-content-around>\\n      <ion-col class=\\\"left-text\\\">公示网址：</ion-col>\\n      <ion-col class=\\\"right-text\\\">\\n        <div *ngIf=\\\"laterMonitorDetail.CENSUS_PUBLIC_TYPE===1\\\">新增项目:\\n          <p class=\\\"down-line\\\" (click)=\\\"openBrower(laterMonitorDetail.CENSUS_PUBLIC_URL)\\\">{{laterMonitorDetail.CENSUS_PUBLIC_URL}}</p>\\n        </div>\\n        <div *ngIf=\\\"laterMonitorDetail.CENSUS_PUBLIC_TYPE===0\\\">\\n          <p class=\\\"down-line\\\" *ngFor=\\\"let item of historyEvilFileArr\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"downFile(item)\\\">\\n            {{item.FILENAME}}</p>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <div *ngIf=\\\"!dataFlag\\\" class=\\\"nodata\\\">暂无数据，请稍后再试！</div>\\n</ion-content>\"","module.exports = \"@charset \\\"UTF-8\\\";\\n.button-div {\\n  height: 45px;\\n  padding-right: 3px;\\n  margin-top: 9px; }\\n.button-div ion-button {\\n    float: right;\\n    --padding-start:16px;\\n    --padding-end:16px;\\n    --padding-top:0;\\n    --padding-bottom:0;\\n    cursor: pointer; }\\n/*table-grid的公共样式 start */\\nion-content {\\n  --padding-start:10px;\\n  --padding-end:10px; }\\nion-grid {\\n  margin-top: 12px; }\\nion-grid ion-row {\\n    line-height: 48px;\\n    min-height: 40px;\\n    --ion-grid-column-padding-xs: 0;\\n    overflow: hidden; }\\nion-grid ion-row ion-col {\\n      border: .55px solid #dfdfdf;\\n      border-bottom: none;\\n      border-right: none; }\\nion-grid ion-row ion-col:last-child {\\n      border-right: .55px solid #dfdfdf; }\\nion-grid ion-row ion-button {\\n      position: relative;\\n      top: -4px; }\\nion-grid ion-row:last-child ion-col {\\n    border-bottom: .55px solid #dfdfdf; }\\nion-grid .left-text {\\n    text-align: right;\\n    font-weight: 700;\\n    font-size: 13px;\\n    background: #efefef;\\n    padding: 4px 0 4px 0 !important; }\\nion-grid .right-text {\\n    text-align: center;\\n    color: #343434;\\n    background: #fff;\\n    font-size: 14px;\\n    padding: 4px 20px 4px 20px !important; }\\n/*table-grid的公共样式 end */\\nion-list {\\n  margin-bottom: 0px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGxvdC1sYXRlc3VwZXJ2aXNpb24tZGV0YWlsL3Bsb3QtbGF0ZXN1cGVydmlzaW9uLWRldGFpbC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3Bsb3QtbGF0ZXN1cGVydmlzaW9uLWRldGFpbC9FOlxcd29ya1xccHJvamVjdHNcXGJlaWppbmdfc29pbF9hcHAyMDE5MDUwNVxcQkpXUkFQUC9zcmNcXGFwcFxccGFnZXNcXHBsb3QtbGF0ZXN1cGVydmlzaW9uLWRldGFpbFxccGxvdC1sYXRlc3VwZXJ2aXNpb24tZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNDaEI7RUFDSSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQTtBQUhuQjtJQUtRLFlBQVk7SUFDWixvQkFBZ0I7SUFDaEIsa0JBQWM7SUFDZCxlQUFjO0lBQ2Qsa0JBQWlCO0lBQ2pCLGVBQWUsRUFBQTtBQUd2Qix5QkFBQTtBQUNBO0VBQ0ksb0JBQWdCO0VBQ2hCLGtCQUFjLEVBQUE7QUFFbEI7RUFDSSxnQkFBZSxFQUFBO0FBRG5CO0lBR1EsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQiwrQkFBNkI7SUFDN0IsZ0JBQWdCLEVBQUE7QUFOeEI7TUFRWSwyQkFBMkI7TUFDM0IsbUJBQWtCO01BQ2xCLGtCQUFrQixFQUFBO0FBVjlCO01BYVksaUNBQWdDLEVBQUE7QUFiNUM7TUFnQlksa0JBQWtCO01BQ2xCLFNBQVEsRUFBQTtBQWpCcEI7SUF1Qlksa0NBQWlDLEVBQUE7QUF2QjdDO0lBNkJRLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQiwrQkFBNkIsRUFBQTtBQWpDckM7SUFvQ1Esa0JBQWtCO0lBQ2xCLGNBQWE7SUFDYixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLHFDQUFtQyxFQUFBO0FBRzNDLHVCQUFBO0FBRUE7RUFDSSxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Bsb3QtbGF0ZXN1cGVydmlzaW9uLWRldGFpbC9wbG90LWxhdGVzdXBlcnZpc2lvbi1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuLmJ1dHRvbi1kaXYge1xuICBoZWlnaHQ6IDQ1cHg7XG4gIHBhZGRpbmctcmlnaHQ6IDNweDtcbiAgbWFyZ2luLXRvcDogOXB4OyB9XG4gIC5idXR0b24tZGl2IGlvbi1idXR0b24ge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICAtLXBhZGRpbmctc3RhcnQ6MTZweDtcbiAgICAtLXBhZGRpbmctZW5kOjE2cHg7XG4gICAgLS1wYWRkaW5nLXRvcDowO1xuICAgIC0tcGFkZGluZy1ib3R0b206MDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7IH1cblxuLyp0YWJsZS1ncmlk55qE5YWs5YWx5qC35byPIHN0YXJ0ICovXG5pb24tY29udGVudCB7XG4gIC0tcGFkZGluZy1zdGFydDoxMHB4O1xuICAtLXBhZGRpbmctZW5kOjEwcHg7IH1cblxuaW9uLWdyaWQge1xuICBtYXJnaW4tdG9wOiAxMnB4OyB9XG4gIGlvbi1ncmlkIGlvbi1yb3cge1xuICAgIGxpbmUtaGVpZ2h0OiA0OHB4O1xuICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZy14czogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuOyB9XG4gICAgaW9uLWdyaWQgaW9uLXJvdyBpb24tY29sIHtcbiAgICAgIGJvcmRlcjogLjU1cHggc29saWQgI2RmZGZkZjtcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgICBib3JkZXItcmlnaHQ6IG5vbmU7IH1cbiAgICBpb24tZ3JpZCBpb24tcm93IGlvbi1jb2w6bGFzdC1jaGlsZCB7XG4gICAgICBib3JkZXItcmlnaHQ6IC41NXB4IHNvbGlkICNkZmRmZGY7IH1cbiAgICBpb24tZ3JpZCBpb24tcm93IGlvbi1idXR0b24ge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiAtNHB4OyB9XG4gIGlvbi1ncmlkIGlvbi1yb3c6bGFzdC1jaGlsZCBpb24tY29sIHtcbiAgICBib3JkZXItYm90dG9tOiAuNTVweCBzb2xpZCAjZGZkZmRmOyB9XG4gIGlvbi1ncmlkIC5sZWZ0LXRleHQge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJhY2tncm91bmQ6ICNlZmVmZWY7XG4gICAgcGFkZGluZzogNHB4IDAgNHB4IDAgIWltcG9ydGFudDsgfVxuICBpb24tZ3JpZCAucmlnaHQtdGV4dCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiAjMzQzNDM0O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBhZGRpbmc6IDRweCAyMHB4IDRweCAyMHB4ICFpbXBvcnRhbnQ7IH1cblxuLyp0YWJsZS1ncmlk55qE5YWs5YWx5qC35byPIGVuZCAqL1xuaW9uLWxpc3Qge1xuICBtYXJnaW4tYm90dG9tOiAwcHg7IH1cbiIsIlxyXG4uYnV0dG9uLWRpdntcclxuICAgIGhlaWdodDogNDVweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDNweDtcclxuICAgIG1hcmdpbi10b3A6IDlweDtcclxuICAgIGlvbi1idXR0b257XHJcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgICAgIC0tcGFkZGluZy1zdGFydDoxNnB4O1xyXG4gICAgICAgIC0tcGFkZGluZy1lbmQ6MTZweDtcclxuICAgICAgICAtLXBhZGRpbmctdG9wOjA7XHJcbiAgICAgICAgLS1wYWRkaW5nLWJvdHRvbTowO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxufVxyXG4vKnRhYmxlLWdyaWTnmoTlhazlhbHmoLflvI8gc3RhcnQgKi9cclxuaW9uLWNvbnRlbnR7XHJcbiAgICAtLXBhZGRpbmctc3RhcnQ6MTBweDtcclxuICAgIC0tcGFkZGluZy1lbmQ6MTBweDtcclxufVxyXG5pb24tZ3JpZHtcclxuICAgIG1hcmdpbi10b3A6MTJweDtcclxuICAgIGlvbi1yb3d7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDQ4cHg7XHJcbiAgICAgICAgbWluLWhlaWdodDogNDBweDtcclxuICAgICAgICAtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nLXhzOiAwO1xyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgaW9uLWNvbHtcclxuICAgICAgICAgICAgYm9yZGVyOiAuNTVweCBzb2xpZCAjZGZkZmRmO1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOm5vbmU7XHJcbiAgICAgICAgICAgIGJvcmRlci1yaWdodDpub25lIDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW9uLWNvbDpsYXN0LWNoaWxke1xyXG4gICAgICAgICAgICBib3JkZXItcmlnaHQ6LjU1cHggc29saWQgI2RmZGZkZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW9uLWJ1dHRvbntcclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICB0b3A6LTRweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgaW9uLXJvdzpsYXN0LWNoaWxke1xyXG4gICAgICAgIGlvbi1jb2x7XHJcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206LjU1cHggc29saWQgI2RmZGZkZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5sZWZ0LXRleHR7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7IFxyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNlZmVmZWY7IFxyXG4gICAgICAgIHBhZGRpbmc6NHB4IDAgNHB4IDAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLnJpZ2h0LXRleHR7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGNvbG9yOiMzNDM0MzQ7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgcGFkZGluZzo0cHggMjBweCA0cHggMjBweCFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbn1cclxuLyp0YWJsZS1ncmlk55qE5YWs5YWx5qC35byPIGVuZCAqL1xyXG5cclxuaW9uLWxpc3R7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuaW9uLWdyaWR7XHJcbiAgICAvLyBtYXJnaW4tdG9wOjBweDtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { ConfigService } from '../../services/public/config.service';\nimport { GlobalService } from '../../services/public/global.service';\nimport { AppUpdateService } from '../../services/public/app-update.service';\nimport { HttpUtilsService } from '../../services/public/http-utils.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-plot-latesupervision-detail',\n  templateUrl: './plot-latesupervision-detail.page.html',\n  styleUrls: ['./plot-latesupervision-detail.page.scss'],\n})\nexport class PlotLatesupervisionDetailPage implements OnInit {\n\n  laterMonitorDetail:any = {};//初步调查数据\n  dataFlag: any = false;  //是否拿到初步调查数据\n  arr :any=[];\n  yearList:any=[];\n  minYear:any ;\n  maxYear:any ;\n  plotId:any ;\n  censusFileArr: any = []; // 监测方案附件列表\n  surveyFileArr: any = []; // 监测结果附件列表\n  historyEvilFileArr: any = []; // 历史项目列表\n  skinName: string; //皮肤名称\n  constructor(\n    public iab:InAppBrowser,\n    public global: GlobalService,\n    public configService: ConfigService,\n    public appUpdate: AppUpdateService,\n    public httpUtils: HttpUtilsService,\n    public activatedRouted: ActivatedRoute\n  ) {\n    \n\n    this.activatedRouted.queryParams.subscribe(params => {\n      this.plotId = params.id;\n      this.plotId = '7c43c589-70bb-4acb-b53e-bbf7cc6ba594';\n    });\n\n  }\n\n  ngOnInit() {\n    this.getYears();\n    //初始化页面数据\n    this.init();\n    //获取所有的附件的数组\n    this.getAllFileArr();\n  }\n  \n  ionViewWillEnter() {\n    //设置头部皮肤\n    this.skinName = localStorage.getItem('skinName') || 'blue';\n  }\n\n  /**\n   * 打开本地浏览器跳转对应网址\n   * @param url 网址\n   */\n  openBrower(url){\n    if(url){\n      const browser = this.iab.create(url,'_system');\n      browser.show();\n    }\n  }\n\n  //初始化页面数据\n  init(){\n    this.arr = this.global.plotDetailData['laterMonitorList'];\n    if (JSON.stringify(this.arr) !== \"[]\") {\n      this.laterMonitorDetail = this.arr[0];\n      if(JSON.stringify(this.laterMonitorDetail) !== \"{}\"){\n        this.dataFlag=true;\n      }else{\n        this.dataFlag=false;\n      }\n    }\n  }\n\n  /**\n   * 获取所有的附件的数组\n   * @param flag? boolean  默认为true ,表示是否显示loading 遮罩\n   */\n  getAllFileArr(flag=true) {\n    //let CENSUS = '58625234-0b18-4e39-9bef-c4515beb9617,a212f803-1af8-45d1-a0d6-a7cf669b85a6';\n    //获取检查调查报告数组\n    this.configService.getFile({ 'ids': this.laterMonitorDetail.CENSUS, 'sessionId': this.global.sessionId }, flag, res => {\n      if (res !== 'error') {\n        this.censusFileArr = res;\n      }\n    });\n\n    //获取检查报告数组\n    this.configService.getFile({ 'ids': this.laterMonitorDetail.SURVEY_REPORT, 'sessionId': this.global.sessionId }, flag, res => {\n      if (res !== 'error') {\n        this.surveyFileArr = res;\n      }\n    });\n\n    //如果公示网址对应 无新增项目\n    if (this.laterMonitorDetail.CENSUS_PUBLIC_TYPE === 0) {\n      //获取历史记录证明材料数组\n      this.configService.getFile({ 'ids': this.laterMonitorDetail.CENSUS_PUBLIC_FILES, 'sessionId': this.global.sessionId }, flag, res => {\n        if (res !== 'error') {\n          this.historyEvilFileArr = res;\n        }\n      });\n    }\n  }\n\n  /**\n   *下载资料\n   * @param item 对象\n   */\n  downFile(item) {\n    if (item.FILENAME) {\n      //获取后缀名\n      let fileSuffix = this.appUpdate.getFileSuffix(item.FILENAME);\n      let downUrl = `${this.global.hostUrl}${this.global.downUrl}?fileid=${item.FILEID}&sessionId=${this.global.sessionId}`;\n      this.appUpdate.downFile(downUrl, fileSuffix, item.FILENAME, item.FILESIZE);\n    } else {\n      this.httpUtils.thsToast('附件暂时无法下载！');\n    }\n  }\n  \n\n  /**\n   *选择某一年份后\n   * @param event 事件对象\n   */\n  ionChange(event){\n    \n     let arr=event.detail.value.split(\"-\");\n     let nowYear=arr[0];\n     //console.log(event.detail.nowYear);\n     this.configService.getPlotLaterMonitor({ 'sessionId': this.global.sessionId, 'id': this.plotId ,year :nowYear },true,(res)=>{\n      //console.log(res);\n        if(res!=='error'){\n          this.laterMonitorDetail=res;\n        }\n     })\n  }\n\n  getYears(){\n    //console.log(this.global.laterMonitorList);\n    this.global.laterMonitorList.map((item)=>{\n      this.yearList.push(item['MONITOR_DATE'])\n    })\n    this.maxYear=this.yearList[0];\n    this.minYear=this.yearList[this.yearList.length - 1];\n  }\n\n  // 下拉刷新事件\n  doRefresh(event) {\n    this.getYears();\n    //初始化页面数据\n    this.init();\n    //获取所有的附件的数组\n    this.getAllFileArr(false);\n    setTimeout(() => {\n      event.target.complete();\n    }, 1000);\n  }\n\n}\n"],"sourceRoot":""}