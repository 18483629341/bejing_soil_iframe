{"version":3,"sources":["webpack:///./src/app/pages/set-up/set-up.module.ts","webpack:///./src/app/pages/set-up/set-up.page.html","webpack:///./src/app/pages/set-up/set-up.page.scss","webpack:///./src/app/pages/set-up/set-up.page.ts"],"names":[],"mappings":"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","file":"pages-set-up-set-up-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SetUpPage } from './set-up.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SetUpPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SetUpPage]\n})\nexport class SetUpPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar [ngClass]=\\\"{'blue': skinName==='blue','green': skinName==='green','orange': skinName==='orange'}\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"ios-arrow-back\\\" mode='ios'></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>设置</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item *ngIf=\\\"isShow\\\">\\n      <ion-label>指纹密码</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"isToggle\\\" (ionChange)=\\\"notify($event)\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item (click)=\\\"goSkin()\\\">\\n      <ion-label>系统皮肤设置</ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <button class=\\\"login-btn\\\" (click)=\\\"quit()\\\">退出登录</button>\\n</ion-content>\"","module.exports = \".login-btn {\\n  width: 100%;\\n  height: 46px;\\n  background: #E4E4E4;\\n  text-align: center;\\n  line-height: 46px;\\n  color: #333333;\\n  font-size: 1.1rem;\\n  outline: none;\\n  margin-top: 40px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2V0LXVwL0U6XFx3b3JrXFxwcm9qZWN0c1xcYmVpamluZ19zb2lsX2FwcDIwMTkwNTA1XFxCSldSQVBQL3NyY1xcYXBwXFxwYWdlc1xcc2V0LXVwXFxzZXQtdXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixnQkFBZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NldC11cC9zZXQtdXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5sb2dpbi1idG57IFxyXG4gICAgd2lkdGg6IDEwMCU7IFxyXG4gICAgaGVpZ2h0OiA0NnB4OyBcclxuICAgIGJhY2tncm91bmQ6ICNFNEU0RTQ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IFxyXG4gICAgbGluZS1oZWlnaHQ6IDQ2cHg7XHJcbiAgICBjb2xvcjogIzMzMzMzMztcclxuICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIG1hcmdpbi10b3A6IDQwcHg7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { FingerprintAIO } from '@ionic-native/fingerprint-aio/ngx';\n\n@Component({\n  selector: 'app-set-up',\n  templateUrl: './set-up.page.html',\n  styleUrls: ['./set-up.page.scss'],\n})\nexport class SetUpPage implements OnInit {\n  isShow = false; // 没有指纹功能则不显示\n  isToggle = true; // 切换按钮\n  skinName: string;\n  newSkinName: string;\n  constructor(\n    public alertController: AlertController,\n    public nav: NavController,\n    private router: Router,\n    public fingerprintAIO: FingerprintAIO,\n    ) {\n     \n  }\n  ngOnInit() {\n    this.decideShowToggle();\n  }\n  decideShowToggle() {\n    this.fingerprintAIO.isAvailable().then((result) => { // 手机不支持指纹功能则隐藏按钮\n      // 指纹可以使用(android上result=OK,ios上result=Available)\n      this.isShow = true;\n    })\n      .catch((err) => { // 未录入指纹\n        if (err === 'Fingerprint authentication not ready' || err === 'Not available指纹不可用') {\n          this.isToggle = true;\n        } else { // 不支持此功能\n          this.isToggle = false;\n        }\n      });\n    this.getIsToggled();\n  }\n  // 取出isToggled的值显示在页面按钮上\n  getIsToggled() {\n    const storage = localStorage.getItem('isToggled');\n    const data = storage;\n    if (data === 'true') {\n      this.isToggle = true;\n    } else {\n      this.isToggle = false;\n    }\n  }\n  // 按钮的切换\n  public notify(e) {\n    // console.log(this.info.fingerprint);\n    if (this.isToggle) { // 确保开启指纹功能时用户手机中有录入指纹\n      this.fingerprintAIO.isAvailable()\n        .then((result) => {\n          this.isToggle = true;\n          localStorage.setItem('isToggled', this.isToggle.toString());\n        })\n        .catch((err) => {\n          if (err === 'Fingerprint authentication not ready' || err === 'Not available指纹不可用') {\n            alert('您还没有录入指纹，请您先到手机设置中去录入指纹');\n          }\n          this.isToggle = false;\n          localStorage.setItem('isToggled', this.isToggle.toString());\n        });\n    } else {\n      this.isToggle = false;\n      localStorage.setItem('isToggled', this.isToggle.toString());\n    }\n  }\n\n  ionViewWillEnter() {\n    //设置头部皮肤\n    this.skinName = localStorage.getItem('skinName') || 'blue';\n  }\n\n  // 退出登录\n  quit() {\n    this.presentAlertConfirm('确定退出登录');\n  }\n\n  // 跳转皮肤设置\n  goSkin() {\n    this.router.navigate(['skin-set']);\n  }\n  \n  async presentAlertConfirm(val) {\n    const alert = await this.alertController.create({\n      message: val,\n      buttons: [\n        {\n          text: '取消',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: '确定',\n          handler: () => {\n            // this.router.navigate(['login']);\n            this.nav.navigateRoot(['login']);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n  }\n}\n"],"sourceRoot":""}