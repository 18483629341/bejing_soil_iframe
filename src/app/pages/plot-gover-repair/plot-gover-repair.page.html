<ion-header>
  <ion-toolbar [ngClass]="{'blue': skinName==='blue','green': skinName==='green','orange': skinName==='orange'}">
    <ion-buttons slot="start">
      <ion-back-button text="" icon="ios-arrow-back" mode='ios'></ion-back-button>
    </ion-buttons>
    <ion-title>治理与修复</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- 下拉刷新组件 -->
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="ios-arrow-down" refreshingSpinner="lines" mode='ios'>
    </ion-refresher-content>
  </ion-refresher>

  <ion-grid class="detail_table" *ngIf="dataFlag">
      <ion-row justify-content-around>
        <ion-col class="left-text">报告标题：</ion-col>
        <ion-col class="right-text" style=" line-height: 22px;">{{repairInfo.CENSUS_TITLE||"- -"}}</ion-col>
      </ion-row>
      <ion-row justify-content-around>
        <ion-col class="left-text">报告编制单位：</ion-col>
        <ion-col class="right-text">{{repairInfo.CENSUS_UNIT||"- -"}}</ion-col>
      </ion-row>
      <ion-row justify-content-around>
        <ion-col class="left-text">完成时间：</ion-col>
        <ion-col class="right-text">{{repairInfo.CENSUS_END_TIMEE===null?"- -":(repairInfo.CENSUS_END_TIME| date:'yyyy-MM-dd')}}</ion-col>
      </ion-row>
      <ion-row justify-content-around>
        <ion-col class="left-text">治理与修复报告附件：</ion-col>
        <ion-col class="right-text" >
            <ion-list *ngIf="censusFileArr.length>0">
              <ion-item *ngFor="let item of censusFileArr" lines="none">
                <p class="down-line" size="small" color="tertiary" (click)="downFile(item)"> {{item.FILENAME}}</p>
              </ion-item>
            </ion-list>
            <p class="nofile" *ngIf="censusFileArr.length==0">暂无附件</p>
          </ion-col>
      </ion-row>
      <ion-row justify-content-around>
        <ion-col class="left-text">公示网址：</ion-col>
        <ion-col class="right-text">
            <div *ngIf="repairInfo.CENSUS_PUBLIC_TYPE===1">新增项目:
              <p class="down-line" (click)="openBrower(repairInfo.CENSUS_PUBLIC_URL)">{{repairInfo.CENSUS_PUBLIC_URL}}</p>
            </div>
            <div *ngIf="repairInfo.CENSUS_PUBLIC_TYPE===0">
              <p class="down-line" *ngFor="let item of historyEvilFileArr" size="small" color="tertiary" (click)="downFile(item)">
              {{item.FILENAME}}</p>
            </div>
          </ion-col>
      </ion-row>
    </ion-grid>

    <div *ngIf="!dataFlag" class="nodata">暂无数据，请稍后再试！</div>
</ion-content>